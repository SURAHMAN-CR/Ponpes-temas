<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ponpes Al-Ittihad - Dashboard Guru</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
</head>

<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between">
                <div class="flex space-x-7">
                    <div>
                        <a href="#" class="flex items-center py-4 px-2">
                            <img src="https://via.placeholder.com/50" alt="Logo" class="h-8 w-8 mr-2">
                            <span class="font-semibold text-gray-500 text-lg">Ponpes Al-Ittihad</span>
                        </a>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-3">
                    <a href="#" class="py-2 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">Beranda</a>
                    <a href="#" class="py-2 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">Profil</a>
                    <a href="#" class="py-2 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">Program</a>
                    <a href="#" class="py-2 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">Galeri</a>
                    <a href="#" class="py-2 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">Kontak</a>
                    <button onclick="showLoginModal()" id="login-button" class="py-2 px-4 bg-green-500 text-white font-medium rounded hover:bg-green-600 transition duration-300">Login</button>
                    <div id="user-profile" class="hidden flex items-center">
                        <img src="https://via.placeholder.com/30" alt="Profile" class="h-8 w-8 rounded-full mr-2">
                        <span id="username-display" class="text-gray-700"></span>
                    </div>
                </div>
                <div class="md:hidden flex items-center">
                    <button class="outline-none mobile-menu-button">
                        <svg class="w-6 h-6 text-gray-500" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor">
                            <path d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Login Modal -->
    <div id="login-modal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-11/12 max-w-md shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 class="text-xl font-bold text-gray-800">Login</h3>
                <button onclick="closeLoginModal()" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <form id="login-form" class="mt-4 space-y-4">
                <div>
                    <label class="block text-gray-700 mb-1">Peran</label>
                    <select id="login-role" class="w-full px-3 py-2 border rounded">
                        <option value="santri">Santri</option>
                        <option value="guru">Guru</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-gray-700 mb-1">Email</label>
                    <input type="email" id="login-email" class="w-full px-3 py-2 border rounded" placeholder="email@contoh.com">
                </div>
                
                <div>
                    <label class="block text-gray-700 mb-1">Password</label>
                    <input type="password" id="login-password" class="w-full px-3 py-2 border rounded" placeholder="Password">
                </div>
                
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="button" onclick="closeLoginModal()" class="px-4 py-2 border rounded text-gray-700 hover:bg-gray-100">Batal</button>
                    <button type="button" onclick="handleLogin()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Login</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Teacher Dashboard Modal -->
    <div id="teacher-dashboard" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-11/12 max-w-6xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 class="text-2xl font-bold text-gray-800">Dashboard Guru</h3>
                <button onclick="closeTeacherDashboard()" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="flex mt-4">
                <!-- Sidebar -->
                <div class="w-64 bg-gray-800 text-white sidebar-expanded" id="teacher-sidebar">
                    <div class="p-4 flex items-center space-x-3">
                        <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/3a78cf99-388d-40a4-901f-3290274fc72f.png" alt="Guru" class="w-10 h-10 rounded-full">
                        <div>
                            <p class="font-semibold" id="teacher-name">Guru</p>
                            <p class="text-xs text-gray-400">Pengajar</p>
                        </div>
                    </div>
                    
                    <nav class="mt-2">
                        <div>
                            <button onclick="showTeacherSection('teacher-dashboard')" class="w-full px-4 py-3 text-left hover:bg-gray-700 flex items-center active-menu">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                                </svg>
                                <span class="sidebar-text">Dashboard</span>
                            </button>
                            
                            <button onclick="showTeacherSection('teacher-materials')" class="w-full px-4 py-3 text-left hover:bg-gray-700 flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                </svg>
                                <span class="sidebar-text">Materi Pembelajaran</span>
                            </button>
                            
                            <button onclick="showTeacherSection('teacher-assignments')" class="w-full px-4 py-3 text-left hover:bg-gray-700 flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                                </svg>
                                <span class="sidebar-text">Tugas & Ujian</span>
                            </button>
                            
                            <button onclick="showTeacherSection('teacher-students')" class="w-full px-4 py-3 text-left hover:bg-gray-700 flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
                                </svg>
                                <span class="sidebar-text">Daftar Santri</span>
                            </button>
                            
                            <button onclick="showTeacherSection('teacher-settings')" class="w-full px-4 py-3 text-left hover:bg-gray-700 flex items-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                </svg>
                                <span class="sidebar-text">Pengaturan</span>
                            </button>
                        </div>
                    </nav>
                </div>
                
                <!-- Main Content -->
                <div class="flex-1 ml-4" id="teacher-main-content">
                    <!-- Dashboard Section -->
                    <div id="teacher-dashboard-section" class="teacher-section">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="bg-blue-100 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800">Materi Terupload</h4>
                                <p class="text-3xl font-bold" id="teacher-total-materials">15</p>
                            </div>
                            <div class="bg-green-100 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800">Total Santri</h4>
                                <p class="text-3xl font-bold" id="teacher-total-students">32</p>
                            </div>
                            <div class="bg-purple-100 p-4 rounded-lg">
                                <h4 class="font-semibold text-gray-800">Tugas Aktif</h4>
                                <p class="text-3xl font-bold" id="teacher-active-assignments">4</p>
                            </div>
                        </div>
                        
                        <div class="mt-6 bg-white p-4 rounded-lg shadow">
                            <h4 class="font-semibold text-lg mb-4">Materi Terbaru</h4>
                            <div class="space-y-4">
                                <div class="flex items-start border-b pb-4">
                                    <div class="bg-blue-100 p-2 rounded-full mr-3">
                                        <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                        </svg>
                                    </div>
                                    <div class="flex-1">
                                        <p class="font-medium">Fiqih Ibadah - Bab Thaharah</p>
                                        <p class="text-sm text-gray-600">Diupload 2 hari yang lalu - 25 downloads</p>
                                    </div>
                                    <button class="text-blue-600 hover:text-blue-800">Lihat</button>
                                </div>
                                <div class="flex items-start border-b pb-4">
                                    <div class="bg-green-100 p-2 rounded-full mr-3">
                                        <svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                        </svg>
                                    </div>
                                    <div class="flex-1">
                                        <p class="font-medium">Video Pembelajaran Bahasa Arab</p>
                                        <p class="text-sm text-gray-600">Diupload 1 minggu yang lalu - 42 views</p>
                                    </div>
                                    <button class="text-blue-600 hover:text-blue-800">Lihat</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Materials Section -->
                    <div id="teacher-materials-section" class="hidden teacher-section">
                        <div class="flex justify-between items-center mb-4">
                            <h4 class="font-semibold text-lg">Materi Pembelajaran</h4>
                            <button onclick="showAddMaterialModal()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center">
                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                                <span>Tambah Materi</span>
                            </button>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow overflow-hidden">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Judul</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Mata Pelajaran</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Tanggal</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Downloads</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200" id="materials-list">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Fiqih Ibadah - Bab Thaharah</td>
                                        <td class="px-6 py-4 whitespace-nowrap">Fiqih</td>
                                        <td class="px-6 py-4 whitespace-nowrap">10 Mei 2023</td>
                                        <td class="px-6 py-4 whitespace-nowrap">25</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2">Edit</button>
                                            <button class="text-red-600 hover:text-red-900">Hapus</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">Video Pembelajaran Bahasa Arab</td>
                                        <td class="px-6 py-4 whitespace-nowrap">Bahasa Arab</td>
                                        <td class="px-6 py-4 whitespace-nowrap">5 Mei 2023</td>
                                        <td class="px-6 py-4 whitespace-nowrap">42</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                                            <button class="text-blue-600 hover:text-blue-900 mr-2">Edit</button>
                                            <button class="text-red-600 hover:text-red-900">Hapus</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Assignments Section -->
                    <div id="teacher-assignments-section" class="hidden teacher-section">
                        <div class="flex justify-between items-center mb-4">
                            <h4 class="font-semibold text-lg">Tugas & Ujian</h4>
                            <button onclick="showAddAssignmentModal()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center">
                                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                                <span>Tambah Tugas</span>
                            </button>
                        </div>
                        
                        <div class="space-y-4" id="assignments-list">
                            <div class="bg-white p-4 rounded-lg shadow">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <h5 class="font-semibold">Tugas Bahasa Arab - Menulis Kalimat</h5>
                                        <p class="text-sm text-gray-600">Deadline: 15 Mei 2023</p>
                                        <p class="text-sm mt-1">12 dari 32 santri sudah mengumpulkan</p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button class="text-blue-600 hover:text-blue-800">Lihat</button>
                                        <button class="text-red-600 hover:text-red-800">Hapus</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-white p-4 rounded-lg shadow">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <h5 class="font-semibold">Ujian Tengah Semester Fiqih</h5>
                                        <p class="text-sm text-gray-600">Deadline: 20 Mei 2023</p>
                                        <p class="text-sm mt-1">8 dari 32 santri sudah mengumpulkan</p>
                                    </div>
                                    <div class="flex space-x-2">
                                        <button class="text-blue-600 hover:text-blue-800">Lihat</button>
                                        <button class="text-red-600 hover:text-red-800">Hapus</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Students Section -->
                    <div id="teacher-students-section" class="hidden teacher-section">
                        <div class="flex justify-between items-center mb-4">
                            <h4 class="font-semibold text-lg">Daftar Santri</h4>
                            <div class="flex items-center">
                                <label class="mr-2">Filter Kelas:</label>
                                <select class="border rounded px-2 py-1">
                                    <option>Semua Kelas</option>
                                    <option>Kelas 7</option>
                                    <option>Kelas 8</option>
                                    <option>Kelas 9</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-lg shadow overflow-hidden">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">NIS</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nama</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Kelas</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">2023001</td>
                                        <td class="px-6 py-4 whitespace-nowrap">Muhammad Fajar</td>
                                        <td class="px-6 py-4 whitespace-nowrap">7A</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                Aktif
                                            </span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="px-6 py-4 whitespace-nowrap">2023002</td>
                                        <td class="px-6 py-4 whitespace-nowrap">Aisyah Nur</td>
                                        <td class="px-6 py-4 whitespace-nowrap">8B</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                                Aktif
                                            </span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Settings Section -->
                    <div id="teacher-settings-section" class="hidden teacher-section">
                        <h4 class="font-semibold text-lg mb-4">Pengaturan Akun</h4>
                        
                        <div class="bg-white p-4 rounded-lg shadow">
                            <form>
                                <div class="mb-4">
                                    <label class="block text-gray-700 mb-2">Nama Lengkap</label>
                                    <input type="text" class="w-full px-3 py-2 border rounded" value="Ustadz Ahmad">
                                </div>
                                <div class="mb-4">
                                    <label class="block text-gray-700 mb-2">Email</label>
                                    <input type="email" class="w-full px-3 py-2 border rounded" value="ahmad@ponpes.id">
                                </div>
                                <div class="mb-4">
                                    <label class="block text-gray-700 mb-2">Password Baru</label>
                                    <input type="password" class="w-full px-3 py-2 border rounded" placeholder="Kosongkan jika tidak ingin mengubah">
                                </div>
                                <div class="mb-4">
                                    <label class="block text-gray-700 mb-2">Konfirmasi Password Baru</label>
                                    <input type="password" class="w-full px-3 py-2 border rounded" placeholder="Kosongkan jika tidak ingin mengubah">
                                </div>
                                <button class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Perbarui Profil</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Material Modal -->
    <div id="add-material-modal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 class="text-xl font-bold text-gray-800">Tambah Materi Baru</h3>
                <button onclick="closeAddMaterialModal()" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <form id="add-material-form" class="mt-4 space-y-4">
                <div>
                    <label class="block text-gray-700 mb-1">Judul Materi</label>
                    <input type="text" id="material-title" required class="w-full px-3 py-2 border rounded">
                </div>
                
                <div>
                    <label class="block text-gray-700 mb-1">Mata Pelajaran</label>
                    <select id="material-subject" class="w-full px-3 py-2 border rounded">
                        <option value="quran">Al-Qur'an</option>
                        <option value="arabic">Bahasa Arab</option>
                        <option value="fiqh">Fiqih</option>
                        <option value="aqidah">Aqidah</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-gray-700 mb-1">Deskripsi</label>
                    <textarea id="material-description" rows="3" class="w-full px-3 py-2 border rounded"></textarea>
                </div>
                
                <div>
                    <label class="block text-gray-700 mb-1">File Materi</label>
                    <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md">
                        <div class="space-y-1 text-center">
                            <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                            <div class="flex text-sm text-gray-600">
                                <label for="file-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none">
                                    <span>Upload file</span>
                                    <input id="file-upload" name="file-upload" type="file" class="sr-only">
                                </label>
                                <p class="pl-1">atau drag and drop</p>
                            </div>
                            <p class="text-xs text-gray-500">PDF, DOCX, PPTX hingga 10MB</p>
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="button" onclick="closeAddMaterialModal()" class="px-4 py-2 border rounded text-gray-700 hover:bg-gray-100">Batal</button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Simpan</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Assignment Modal -->
    <div id="add-assignment-modal" class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50">
        <div class="relative top-20 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-md bg-white">
            <div class="flex justify-between items-center pb-3 border-b">
                <h3 class="text-xl font-bold text-gray-800">Tambah Tugas Baru</h3>
                <button onclick="closeAddAssignmentModal()" class="text-gray-500 hover:text-gray-700">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <form id="add-assignment-form" class="mt-4 space-y-4">
                <div>
                    <label class="block text-gray-700 mb-1">Judul Tugas</label>
                    <input type="text" id="assignment-title" required class="w-full px-3 py-2 border rounded">
                </div>
                
                <div>
                    <label class="block text-gray-700 mb-1">Mata Pelajaran</label>
                    <select id="assignment-subject" class="w-full px-3 py-2 border rounded">
                        <option value="quran">Al-Qur'an</option>
                        <option value="arabic">Bahasa Arab</option>
                        <option value="fiqh">Fiqih</option>
                        <option value="aqidah">Aqidah</option>
                    </select>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-700 mb-1">Tanggal Mulai</label>
                        <input type="date" id="assignment-start-date" class="w-full px-3 py-2 border rounded">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-1">Tanggal Deadline</label>
                        <input type="date" id="assignment-deadline" class="w-full px-3 py-2 border rounded">
                    </div>
                </div>
                
                <div>
                    <label class="block text-gray-700 mb-1">Instruksi</label>
                    <textarea id="assignment-instructions" rows="3" class="w-full px-3 py-2 border rounded"></textarea>
                </div>
                
                <div>
                    <label class="block text-gray-700 mb-1">File Tugas (Opsional)</label>
                    <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md">
                        <div class="space-y-1 text-center">
                            <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                                <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                            </svg>
                            <div class="flex text-sm text-gray-600">
                                <label for="file-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none">
                                    <span>Upload file</span>
                                    <input id="file-upload" name="file-upload" type="file" class="sr-only">
                                </label>
                                <p class="pl-1">atau drag and drop</p>
                            </div>
                            <p class="text-xs text-gray-500">PDF, DOCX, PPTX hingga 10MB</p>
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="button" onclick="closeAddAssignmentModal()" class="px-4 py-2 border rounded text-gray-700 hover:bg-gray-100">Batal</button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Simpan</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Sample data for users
        const users = {
            'santri': {
                name: 'Muhammad Fajar',
                email: 'santri@ponpes.id',
                password: 'santri123'
            },
            'guru': {
                name: 'Ustadz Ahmad',
                email: 'guru@ponpes.id',
                password: 'guru123'
            },
            'admin': {
                name: 'Admin Ponpes',
                email: 'admin@ponpes.id',
                password: 'admin123'
            }
        };

        // Login Modal Functions
        function showLoginModal() {
            document.getElementById('login-modal').classList.remove('hidden');
        }

        function closeLoginModal() {
            document.getElementById('login-modal').classList.add('hidden');
            document.getElementById('login-form').reset();
        }

        // Update UI based on login status
        function updateUserUI() {
            const role = localStorage.getItem('userRole');
            const name = localStorage.getItem('userName');
            
            if (role && name) {
                document.getElementById('login-button').classList.add('hidden');
                document.getElementById('user-profile').classList.remove('hidden');
                document.getElementById('username-display').textContent = name;
            } else {
                document.getElementById('login-button').classList.remove('hidden');
                document.getElementById('user-profile').classList.add('hidden');
            }
        }

        // Handle login
        function handleLogin() {
            const role = document.getElementById('login-role').value;
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Validate inputs
            if (!email || !password) {
                alert('Mohon isi email dan password!');
                return;
            }
            
            if (users[role] && email === users[role].email && password === users[role].password) {
                localStorage.setItem('userRole', role);
                localStorage.setItem('userName', users[role].name);
                updateUserUI();
                closeLoginModal();
                
                if(role === 'admin') {
                    showAdminDashboard();
                } else if(role === 'guru') {
                    showTeacherDashboard();
                } else {
                    alert('Anda berhasil login sebagai Santri. Dashboard Santri akan ditampilkan di sini.');
                }
            } else {
                alert('Email atau password salah!');
            }
        }

        // Teacher Dashboard Functions
        function showTeacherDashboard() {
            document.getElementById('teacher-dashboard').classList.remove('hidden');
            document.getElementById('teacher-name').textContent = localStorage.getItem('userName') || 'Guru';
            showTeacherSection('teacher-dashboard');
        }

        function closeTeacherDashboard() {
            document.getElementById('teacher-dashboard').classList.add('hidden');
        }

        function showTeacherSection(section) {
            // Hide all sections
            document.querySelectorAll('.teacher-section').forEach(el => {
                el.classList.add('hidden');
            });
            
            // Show the selected section
            document.getElementById(`${section}-section`).classList.remove('hidden');
            
            // Update active menu
            document.querySelectorAll('#teacher-sidebar button').forEach(el => {
                el.classList.remove('active-menu');
            });
            
            // Find the button that matches the section and add active class
            const activeButton = Array.from(document.querySelectorAll('#teacher-sidebar button')).find(btn => {
                return btn.getAttribute('onclick').includes(section);
            });
            
            if (activeButton) {
                activeButton.classList.add('active-menu');
            }
        }

        // Material Modal Functions
        function showAddMaterialModal() {
            document.getElementById('add-material-modal').classList.remove('hidden');
        }

        function closeAddMaterialModal() {
            document.getElementById('add-material-modal').classList.add('hidden');
            document.getElementById('add-material-form').reset();
        }

        // Assignment Modal Functions
        function showAddAssignmentModal() {
            document.getElementById('add-assignment-modal').classList.remove('hidden');
        }

        function closeAddAssignmentModal() {
            document.getElementById('add-assignment-modal').classList.add('hidden');
            document.getElementById('add-assignment-form').reset();
        }

        // Form submissions
        document.getElementById('add-material-form').addEventListener('submit', function(e) {
            e.preventDefault();
            // Here you would typically send the data to a server
            alert('Materi berhasil ditambahkan!');
            closeAddMaterialModal();
            // You would then refresh the materials list
        });

        document.getElementById('add-assignment-form').addEventListener('submit', function(e) {
            e.preventDefault();
            // Here you would typically send the data to a server
            alert('Tugas berhasil ditambahkan!');
            closeAddAssignmentModal();
            // You would then refresh the assignments list
        });

        // Initialize UI on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateUserUI();
            
            // Set default dates for assignment form
            const today = new Date().toISOString().split('T')[0];
            const nextWeek = new Date();
            nextWeek.setDate(nextWeek.getDate() + 7);
            const nextWeekFormatted = nextWeek.toISOString().split('T')[0];
            
            document.getElementById('assignment-start-date').value = today;
            document.getElementById('assignment-deadline').value = nextWeekFormatted;
        });

        // Logout functionality (you can add a logout button somewhere)
        function logout() {
            localStorage.removeItem('userRole');
            localStorage.removeItem('userName');
            updateUserUI();
            closeTeacherDashboard();
            closeAdminDashboard();
        }
    </script>
</body>
</html>
